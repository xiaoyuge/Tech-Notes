## **（1）单体架构 vs 微服务架构**

单体架构当规模越来越大的时候（功能、代码、协作的人越来越多），存在主要问题：

1. **代码难以理解和维护**：所有代码揉在一个代码库，代码变得越来越庞大，越来越难以理解，导致开发者面对新需求或问题的修改越来越困难，容易引入Bug，并逐渐导致背离原有架构原则、设计模式等，使得架构越来越腐化；
2. **代码编辑+构建+运行周期变长**：代码越来越多，导致开发过程中IDE响应变慢，构建一次的时间也越来越（编译时间、跑单测时间等），启动一次的时间也越来越长、最终导致每一次程序的小修改都导致部署到生产环境的时间越来越长；
3. **上线部署困难**：当越来越多的团队工作在一个代码库上的时候，无论是主干上线还是拉功能分支上线，都使得想快速上线变得非常困难；
4. **部署资源要求冲突**：随着功能模块越来越多，不同模块的部署资源需求冲突也越来越多，有的模块可能需要部署在有更大内存的服务器上，有的模块可能需要部署在有高性能CPU的服务器上；
5. **故障隔离性差**:多个不同模块因为在一个应用进程内，某个模块的代码错误导致的问题比如内存泄露、线程数飙升等，可能导致整个应用崩溃；
6. **应用新技术难**：不同的功能模块可能更适合采用新的技术语言或框架，但单体架构下必须使用一套技术体系；

单体架构拆分为微服务架构后的研发上线流程\
![single-to-microservice-deploy](https://github.com/xiaoyuge/Tech-Notes/blob/main/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/resources/single-to-microservice-deploy.png)

### **to be continued...**
