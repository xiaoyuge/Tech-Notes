## **如何设计一个可持续维护的系统**

这个问题，是之前跟某家公司CTO沟通的时候聊到的话题

一个系统要可持续维护，需要考虑系统的维护成本主要在哪儿，如果让这些成本尽量低

我们知道，一个系统从开发到上线维护再到下线的生命周期里，大部分的时间主要花在写代码、读代码和改代码等事情上，而且读代码和改代码的时间可能都会大于第一次写代码的时间，尤其在持续长时间维护的情况下。

因此，我觉得可以从如下几个方面来思考，如果构建一个可长时间持续维护的系统：

1. **提升代码的可读性（好读）**：代码用来阅读的时间远长于写代码的时间，如何让代码可读性提升？核心是建立标准且大家理解并认可的技术规范，比如代码规范（比如代码结构、变量和方法命名、代码注释等）、开发规范（比如分支策略）+ 必要的文档，尤其是代码可能很难反映出全貌，所以必要的整体架构文档、交互流程文档（时序图）就比较重要了；

2. **提升架构设计的合理性（好改）**：核心是系统具备良好的架构风格和设计模式，比如
    - 符合架构设计的solid原则（单一职责原则、开闭原则
    、里氏克夫替换原则、接口隔离原则、依赖倒置原则）
    - 分层依赖原则，比如合理的引入设计模式和架构模式（典型如分层模式mvc、基于事件的异步架构模式CQRS等），让架构分层、模块划分更清晰合理

3. **构建完备的自动化测试用例集（好放心）**：比如践行TDD，通过自动化测试用例集，打造一张安全网，保障每次修改的安全性

你觉得，如果要打造一个可持续维护的系统，还需要什么？欢迎探讨

PS：在写完这篇文章不久，正好看到一篇文章讲[《如何写出让同事无法维护的代码？》](https://mp.weixin.qq.com/s/RChlcA9RFgVQwWsnk_9beg)，里面正好从代码规范、文档注释、程序设计和测试等几个方面进行了阐述，正好对应了我列举的几点，挺有意思，大家可以去那篇文章边读边逆向思考一下^-^
