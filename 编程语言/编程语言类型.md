
# **高级语言 vs 低级语言**

![高级语言和低级语言](https://github.com/xiaoyuge/Tech-Notes/blob/58e72b095de3f5d36f7e053b47c4e13ab6d98814/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/resources/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80%E5%92%8C%E4%BD%8E%E7%BA%A7%E8%AF%AD%E8%A8%80.jpeg)

1. **高级语言**：

    相对于低级语言来说，高级语言采用**易于识别和记忆的字符**来作为关键字，也**更接近人类的思维方式**，**编写容易读写性好**，因此开发效率更高，另外高级语言是可移植的，做少量修改甚至无需修改，即可将代码运行在不同平台的计算机上，比如 C、C++、Java、Python等都是高级语言；

2. **低级语言**：低级语言又分为两种
    - **机器语言**：计算机硬件只能识别“断开”和“闭合”两种物理状态，也就是0和1。使用机器指令**执行效率最高**，因为无需对指令进行翻译。但是机器语言对人类不友好，一大串0和1，很难识别和记忆，且容易出错，因此**开发效率很低**。另外低级语言与机器**硬件绑定，不具备可移植性**；
    - **汇编语言**：汇编语言（assembly language）是一种用于电子计算机、微处理器、微控制器或其他可编程器件的低级语言，亦称为符号语言。在汇编语言中，用**助记符（Mnemonics）**代替机器指令的操作码，用**地址符号（Symbol）**或**标号（Label）**代替指令或操作数的地址。在不同的设备中，汇编语言对应着不同的机器语言指令集，通过汇编过程转换成机器指令。普遍地说，**特定的汇编语言和特定的机器语言指令集是一一对应的,不同平台之间不可直接移植**；

总结：

- 越是低级的语言对机器越是友好，越是符合机器的思考方式，因此执行效率高；
- 越是高级的语言对人类越是友好，越是符合人类的思考方式，因此开发效率高；

## **编译型语言 vs 解释型语言**

坦白讲，现在用编译型、解释型来分类编程语言已经有点力不从心了

比如拿Java来举个🌰

JAVA的第一道工序是javac编译，当然目标文件是BYTECODE。后续可能有三种处理方式：

1. 运行时，BYTECODE由JVM逐条解释执行；
2. 运行时，部分代码可能由JIT翻译为**目标机器指令**（**以method为翻译单位**，还会保存起来，第二次执行就不用翻译了）直接执行；
3. RTSJ（Real-Time Specification for Java）：继JAVAC之后执行**AOT（Ahead Of Time，预编译）**二次编译，生成静态的目标平台代码（典型的就是IBM WEBSHPERE REAL TIME）；

### **JIT与AOT的区别**

提前编译是相对于即时编译的概念，提前编译能带来的最大好处是Java虚拟机加载这些已经预编译成二进制机器码之后就能够直接调用，而无须再等待即时编译器在运行时将其编译成二进制机器码。理论上，提前编译可以滅少即时编译带来的预热时间，减少Java应用长期给人带来的 **“第一次运行慢"** 的不良体验，可以放心地进行很多全程序的分析行为，可以使用时间压力更大的优化措施。但是提前编译的坏处也很明显，它破坏了Java"—次编写，到处运行"的承诺，必须为每个不同的硬件、操作系统去编译对应的发行包；也显著降低了Java链接过程的动态性，**必须要求加载的代码在编译期就是全部已知的，而不能在运行期才确定**，否则就只能舍弃掉己经提前编译好的版本，退回到原来的即时编译执行状态。

- AOT的优点

    - 在程序运行前编译，可以避免在运行时的编译性能消耗和内存消耗
    - 可以在程序运行初期就达到最高性能，程序启动速度快
    - 运行产物只有机器码，打包体积小

- AOT的缺点

    - 由于是静态提前编译，不能根据硬件情况或程序运行情况择优选择机器指令序列，理论峰值性能不如JIT
    - 没有动态能力
    - 同一份产物不能跨平台运行

有的时候，可能是以上三种方式同时在使用。至少，1和2是同时使用的，3需要程序员手工指定

所以，你说Java到底是编译型语言？还是解释型语言？

如果按照3的使用方式，Java是编译型语言。如果按照1和2的使用方式，Java可以说是半编译半解释的语言

不过一般来说

- **编译型**：指事先把源代码通过编译器转换成**目标平台的机器语言**；
- **解释型**：指源代码不会事先编译成目标平台的机器语言，而是**在运行的时候逐行对代码进行解释**，转换成目标平台机器代码运行，像Java和Pyton会事先把源代码编译成一个中间语言，然后通过VM对中间代码进行解释执行；

这两种类型语言的区别，就在于跨平台和执行性能上，解释型语言能直接跨平台，但执行性能相对差，而编译型语言跨平台需要重新编译，但执行性能相对好

## **强类型语言 vs 弱类型语言**

1. **强类型**：不允许改变变量的数据类型或者说倾向于不对变量的类型做隐式转换，除非进行强制类型转换；比如Java，对变量类型转换有严格限制，不同类型变量是不能相互赋值的，这样可以避免许多低级错误；

2. **弱类型**：变量可以被赋予不同的数据类型或者说倾向于对变量的类型做隐式转换；比如javascript，对变量类型没有约束，相对更灵活，但容易产生bug；

## **动态类型语言 vs 静态类型语言**

1. **静态类型语言**：在编译阶段确定所有变量的类型并进行类型检查，比如C++ 、Java，编译阶段就可以确定**属性偏移量**，用偏移量访问代替属性名访问，偏移量信息共享；

2. **动态类型语言**：在执行阶段确定所有变量的类型，比如javascript，会导致需要在程序运行时，**动态计算属性内存地址的偏移量**，还需要额外空间存储属性名，所有对象的偏移量信息各存一份；

![静态类型语言和动态类型语言对比](https://github.com/xiaoyuge/Tech-Notes/blob/main/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/resources/%E9%9D%99%E6%80%81%E7%B1%BB%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%92%8C%E5%8A%A8%E6%80%81%E7%B1%BB%E5%9E%8B%E8%AF%AD%E8%A8%80%E5%AF%B9%E6%AF%94.png)

相应的也就可以理解静态链接和动态链接的区别了

综上，**动态弱类型语言（比如Javascript）**因为性能和易引入bug等问题，被很多开发者鄙视

PS：根据上面的分类，Python属于动态强类型语言，Java属于静态强类型语言，而Javascript属于动态弱类型语言

![不同变成语言的强弱类型和静态类型分类]()

如上只列举了几个分类的维度，当然，还有其他的维度，比如GC-based的、手工管理内存的，有没有VM的等等，就不一一列举了
